# See this wiki page for more info:
# https://github.com/dylanaraps/neofetch/wiki/Customizing-Info

# --- CUSTOM OS AGE FUNCTION ---
# This function calculates the OS installation age from the pacman log.
os_age() {
    local pacman_log="/var/log/pacman.log"

    # Check if the log file exists and is readable.
    if [[ ! -r "$pacman_log" ]]; then
        echo "Unknown (cannot read pacman.log)"
        return
    fi

    # Get the first timestamp from the pacman log.
    local raw_date
    raw_date=$(head -n 1 "$pacman_log" | awk -F '[[]|[]]' '{print $2}')

    # Check if a date was actually extracted.
    if [[ -z "$raw_date" ]]; then
        echo "Unknown (no date found)"
        return
    fi

    # Calculate the age in days.
    local install_epoch
    install_epoch=$(date -d "$raw_date" +%s)
    local now_epoch
    now_epoch=$(date +%s)
    local age_days
    age_days=$(( (now_epoch - install_epoch) / 86400 ))

    # Format the installation date for the output string.
    local formatted_date
    formatted_date=$(date -d "$raw_date" +"%b %d, %Y")

    # Echo the final string for neofetch.
    echo "$age_days days (since $formatted_date)"
}

custom_gpu(){
    echo "Intel HD 4000 (M)"
}

print_info() {
    info title
    info underline

    info " " distro
    info " " kernel
    info " " shell
    info " " term
    info " " wm
    info " " theme
    info " " term_font
    info " " cpu
    info "GPU" gpu custom_gpu
    info " " uptime
    info "󰄗 OS Age" os_age

    info cols
}

# --- Aesthetics ---
# Color palette
# (Title, @, Underline, Subtitle, Colon, Info)
colors=(5 5 8 6 7 7)

# Underline character
underline_enabled="on"
underline_char="━"

# Bold text for labels
bold="on"

# A clean, simple separator
separator=":"

# Color Blocks
color_blocks="on"
block_range=(0 7)
block_width=3
block_height=1


# --- ASCII / Image ---
# This is the line we changed!
# Using "distro" tells neofetch to use the default logo colors.
ascii_colors="distro"
ascii_bold="on"

# Image backend (will be ignored if ascii_distro is set)
image_backend="kitty"
image_source="/home/aayanopal/Documents/neofetch/Cool.png" #change this
image_size="none"

# The distro logo to use.
# You can change this to test others, e.g., "arch", "endeavouros", "kali"
ascii_distro="arch_small"

# Gap between ascii and text
gap=3


# --- Info Settings ---
kernel_shorthand="on"
distro_shorthand="on"
uptime_shorthand="on"
shell_path="off"
shell_version="on"
cpu_brand="on"
cpu_speed="on"
cpu_cores="logical"
cpu_temp="off"
gpu_brand="on"
gpu_type="all"
gtk_shorthand="on"
gtk2="on"
gtk3="on"
os_arch="hide"
memory_percent="off"
package_managers="on"
speed_type="bios_limit"
speed_shorthand="off"
refresh_rate="off"
public_ip_host="http://ident.me"
public_ip_timeout=2
disk_show=('/')
disk_subtitle="mount"
music_player="auto"
song_format="%artist% - %album% - %title%"
song_shorthand="off"
mpc_args=()
bar_char_elapsed="-"
bar_char_total="="
bar_border="on"
bar_length=15
bar_color_elapsed="distro"
bar_color_total="distro"
cpu_display="off"
memory_display="off"
battery_display="off"
disk_display="off"
image_loop="off"
thumbnail_dir="${XDG_CACHE_HOME:-${HOME}/.cache}/thumbnails/neofetch"
crop_mode="normal"
crop_offset="northwest"
yoffset=0
xoffset=0
background_color=
stdout="off"
