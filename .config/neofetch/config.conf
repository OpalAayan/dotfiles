# --- NEOPFETCH CONFIGURATION ---
# https://github.com/dylanaraps/neofetch/wiki/Customizing-Info

print_info() {
    info title
    info underline

    info " " distro
    info " " kernel
    info " " shell
    info " " term
    info " " wm
    info " " theme
    info " " term_font
    info " " cpu
    
    # --- HARDCODED HARDWARE ---
    # We use 'prin' (print info) to force this text to appear
    prin "GPU" "Intel 4000 HD"

    info " " uptime
    
    # --- DYNAMIC OS AGE ---
    # We call the function directly. It handles its own printing.
    os_age

    info cols
}

# --- CUSTOM FUNCTIONS ---

os_age() {
    # 1. Try to find the log
    local pacman_log="/var/log/pacman.log"
    if [[ ! -r "$pacman_log" ]]; then
        return
    fi

    # 2. Extract the very first timestamp (install time)
    # Arch logs format: [2023-01-01T12:00...]
    local raw_date
    raw_date=$(head -n 1 "$pacman_log" | awk -F '[[]|[]]' '{print $2}')

    if [[ -z "$raw_date" ]]; then
        return
    fi

    # 3. Calculate Age
    local install_epoch
    install_epoch=$(date -d "$raw_date" +%s)
    local now_epoch
    now_epoch=$(date +%s)
    local age_days
    age_days=$(( (now_epoch - install_epoch) / 86400 ))

    local formatted_date
    formatted_date=$(date -d "$raw_date" +"%b %d, %Y")

    # 4. Print directly using Neofetch's prin function
    prin "󰄗 OS Age" "$age_days days (since $formatted_date)"
}


# --- AESTHETICS & COLORS ---

# Color palette (Title, @, Underline, Subtitle, Colon, Info)
colors=(5 5 8 6 7 7)

# Text Options
bold="on"
underline_enabled="on"
underline_char="━"
separator=":"

# Color Blocks
color_blocks="on"
block_range=(0 7)
block_width=3
block_height=1


# --- IMAGE / ASCII ---

# Use distro colors for the logo
ascii_colors="distro"
ascii_bold="on"

# Logo Selection
ascii_distro="arch_small"

# Image Options (Active if backend is supported)
image_backend="kitty"
 image_source="/home/aayanopal/Documents/neofetch/Cool.png"
 image_size="none"
 gap=1
 


# --- SYSTEM INFO SETTINGS ---

kernel_shorthand="on"
distro_shorthand="on"
uptime_shorthand="on"
package_managers="on"
shell_path="off"
shell_version="on"
cpu_brand="on"
cpu_speed="on"
cpu_cores="logical"
cpu_temp="off"
gpu_brand="on"
gpu_type="all"
gtk_shorthand="on"
gtk2="on"
gtk3="on"
public_ip_host="http://ident.me"
public_ip_timeout=2
disk_show=('/')
disk_subtitle="mount"
music_player="auto"
song_format="%artist% - %album% - %title%"
bar_char_elapsed="-"
bar_char_total="="
bar_border="on"
bar_length=15
bar_color_elapsed="distro"
bar_color_total="distro"

# Hide these bars by default (cleaner look)
cpu_display="off"
memory_display="off"
battery_display="off"
disk_display="off"