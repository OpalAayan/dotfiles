######################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE DBUS-UPDATE-ACTIVATION-ENVIRONMENT --SYSTEMD WAYLAND_DISPLAY XDG_CURRENT_DESKTOP #
#######################################################################################

#*================================================================*#
#                           ENVIRONMENT                            #
#*================================================================*#

# --- Cursor Configuration ---
# env = HYPRCURSOR_THEME,Bibata-Original-Ice
# env = HYPRCURSOR_SIZE,24 this two doesnt work as i boot
exec-once = hyprctl setcursor Bibata-Original-Ice 24
#even this doesnt work util I move my cursor over my progroams or stuffs

# --- Environment Variables ---
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct # For theming Qt applications
env = XDG_CURRENT_DESKTOP,Hyprland


#*================================================================*#
#                           MONITORS                               #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=,preferred,auto,1


#*================================================================*#
#                           AUTOSTART                              #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Keywords/

# --- System Services ---
# Start necessary services
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# --- Notification Daemon ---
exec-once = dunst

# --- Wallpaper Setup ---
# Start the swww wallpaper daemon 
exec-once = swww-daemon &
# Set your wallpaper
exec-once = swww img ~/Pictures/Wallpaper/kjj.png


# --- Status Bar ---
# To start your status bar
#See wiki.hypr.land/Useful-Utilities/Status-Bars/#simple-status-bars
#See https://github.com/Alexays/Waybar/wiki/Module:-Hyprland

exec-once = waybar

# --- Clipboard Manager ---
# Clipboard Manager (cliphist)
#See https://github.com/sentriz/cliphist
#See https://wiki.hypr.land/Useful-Utilities/Clipboard-Managers/
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# --- Dock ---
# Clean auto-hiding dock
exec-once = nwg-dock-hyprland -p bottom -i 44 -w 5 -mb 5 -l overlay -c "fuzzel" -d -hd 1000 -lp start

# --- polkit-kde-agent ---
exec-once = /usr/lib/polkit-kde-authentication-agent-1

# --- hyprshell (Alt+Tab rust GUI) ---
exec-once = hyprshell run &


#*================================================================*#
#                           VARIABLES                              #
#*================================================================*#

# ~/.config/hypr/hyprland.conf

# ... (monitors, autostart, etc.) ...
#More of sway

# Define your variables FIRST
$terminal = kitty
$fileManager = nautilus
$menu = fuzzel --drun # <-- Note the correct flag is --drun, not -d

# Set the Super key (Windows key) as the main modifier
$mainMod = SUPER

# --- Screenshot Variables ---
# Creates a variable for the path to your screenshot folder
$screenshot_dir = $HOME/Pictures/Hyprland Screenshots
# Sound file to play (found!)
$screenshot_sound = /usr/share/sounds/freedesktop/stereo/camera-shutter.oga

# --- Notification Script Path ---
# # # Path to notification script
$notify_script = ~/.config/hypr/scripts/notify-send.sh


#*================================================================*#
#                           INPUT                                  #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us
    follow_mouse = 1 # Focus follows the mouse cursor

    touchpad {
        natural_scroll = no
    }
}


#*================================================================*#
#                           GENERAL SETTINGS                       #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Variables/#general
general {
    gaps_in = 3
    gaps_out = 4
    border_size = 2

    # Border colors
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)

    # Use the dwindle layout
    layout = dwindle

    
}


#*================================================================*#
#                           DECORATION                             #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 11
    active_opacity   = 1
    inactive_opacity = 0.8
    
    # Background blur 3 1
    blur {
        enabled = true
        size = 5
        passes = 2
        new_optimizations = on
        ignore_opacity = true
        xray = false
        
    }

    # Window shadows
    #drop_shadow = yes error = <decoration:drop_shadow> does not exist
    #shadow_range = 4
    #shadow_render_power = 3
    #col.shadow = rgba(1a1a1aee)
    #same none of this exits 
}


#*================================================================*#
#                           ANIMATIONS                             #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Animations/
animations {
    enabled = yes
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}


#*================================================================*#
#                           LAYOUTS                                #
#*================================================================*#

# --- Dwindle Layout Settings ---
# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
    pseudotile = yes # master switch for pseudotiling
    preserve_split = yes # you probably want this
}


#*================================================================*#
#                           MISC SETTINGS                          #
#*================================================================*#

# Add this to ~/.config/hypr/hyprland.conf
misc {
    force_default_wallpaper = 0
}


#*================================================================*#
#                           WINDOW RULES                           #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Window-Rules/

# Make GTK applications look better
#windowrulev2 = nomaximizerequest, class:.* says invaild rule2 found: nomaximizerequest

# Example of floating a specific window
# windowrulev2 = float, class:^(pavucontrol)$
#--All windowrules



# --- Floating Window Rules ---
# Rule for floating btop (using window class for reliability)
windowrulev2 = float, class:^(btop-floating)$
windowrulev2 = center, class:^(btop-floating)$
# --- Floating waypaper ---
windowrulev2 = float, class:^(waypaper)$
windowrulev2 = center, class:^(waypaper)$
windowrulev2 = size 800 550, class:^(waypaper)$
# --- Floating Alacritty ---
windowrulev2 = float, class:^(Alacritty)$
windowrulev2 = center, class:^(Alacritty)$
windowrulev2 = size 900 510, class:^(Alacritty)$
# --- Proton Vpn --
windowrulev2 = float, class:^(protonvpn-app)$
windowrulev2 = center, class:^(protonvpn-app)$
windowrulev2 = size 100 500, class:^(protonvpn-app)$




### --- Border colors --- 
# --- Custom Border for Alacritty ---
windowrulev2 = bordercolor rgba(ff9900ff) rgba(0000000), class:^(Alacritty)$

#windowrulev2 = bordercolor rgba(f38ba8ff) rgba(b4befeef) rgba(cba6f7ff) rgba(6c4faaff), class:^(btop-floating)$
windowrulev2 = bordercolor rgba(f38ba8ff) rgba(b4befeef) rgba(cba6f7ff) rgba(A772E2FF), class:^(btop-floating)$
windowrulev2 = bordercolor rgba(9d7cd8ff) rgba(bb9af7ff) rgba(c0caf5ff) rgba(bb9af7ff) rgba(9d7cd8ff), class:^(brave-browser)$
windowrulev2 = bordercolor rgb(F7AFFF) rgb(8FBCBB), class:^(kitty)$








#*================================================================*#
#                           KEYBINDINGS                            #
#*================================================================*#

# See https://wiki.hyprland.org/Configuring/Binds/
# NOW you can use the variables you defined above

# --- System Reloads ---
bindd = SUPER_CTRL, R, Reloads Hyprland,exec, hyprctl reload && notify-send "(>///<) Hyprland Reloaded"

# --- Lockscreen ---
bindd = Super, L, Lock Screen, exec, swaylock --color 282a36 --screenshots --effect-blur 21x11 --clock --indicator --indicator-radius 100 --indicator-thickness 7 --ring-color bd93f9 --key-hl-color e06c75

# --- Screenshot Keybindings (with Sound and Notifications) ---
# Full screen screenshot (saves to a file)
bindd = , Print, Full Screenshot Save,exec, grim "$screenshot_dir/$(date +'%Y-%m-%d_%H-%M-%S').png" && paplay $screenshot_sound && notify-send "Screenshot Saved" "Full screen image saved to Hyprland Screenshots."

# Screenshot of a selected area (saves to a file)
bindd = SHIFT, Print, Area Screenshot Save,exec, grim -g "$(slurp)" "$screenshot_dir/$(date +'%Y-%m-%d_%H-%M-%S').png" && paplay $screenshot_sound && notify-send "Screenshot Saved" "Selected area saved to Hyprland Screenshots."

# Screenshot of a selected area (copies to clipboard)
bindd = CTRL, Print, Area Screenshot Copy,exec, grim -g "$(slurp)" - | wl-copy && paplay $screenshot_sound && notify-send "Screenshot Copied" "Selected area copied to clipboard."

# --- Wallpaper Management ---
# Change wallpaper on the fly
bindd = SUPER, W, Change Wallpaper, exec, ~/.config/hypr/scripts/wallpaper.sh
# --- mpvpaper (Live Wallpaper) ---
bindd = SUPER CTRL, W, Toggle Live Wallpaper, exec, ~/.config/hypr/scripts/livewallpaper.sh #Live wallpaper

# --- Window Manipulation ---
#----Toggle floating----
bindd = SUPER ALT, SPACE, Toggle Floating, togglefloating

# Move windows with SUPER + Left Mouse button
bindm = SUPER, mouse:272, movewindow
# Resize windows with SUPER + Right Mouse button
bindm = SUPER, mouse:273, resizewindow

# --- Script Variable ---
$ctl_script = $HOME/.config/hypr/scripts/brigthervolume.sh

# Volume Up + (fn + f2)
bindde = , XF86AudioRaiseVolume, Volume Up, exec, bash -c 'pamixer --allow-boost -i 3 && $ctl_script volume'

# Volume Down - (fn + f3)
bindde = , XF86AudioLowerVolume, Volume Down, exec, bash -c 'pamixer -d 3 && $ctl_script volume'

# --- Mute Control ---
# (fn + f4)
bindd = , XF86AudioMute, Toggle Mute, exec, bash -c '$ctl_script volume_mute'

# # # --- Brightness Control (with hold-to-repeat) ---
bindde = CTRL, F2, Brightness Up, exec, sudo brightnessctl set 5%+ && $ctl_script brightness
bindde = CTRL, F1, Brightness Down, exec, sudo brightnessctl set 5%- && $ctl_script brightness

# --- Application Launch Keybinds ---
bindd = CTRL ALT, K, Launch Terminal (kitty), exec, $terminal  #kitty
bindd = $mainMod, E, Launch File Manager, exec, $fileManager  #nautilus
bindd = $mainMod, R, Launch App Menu (fuzzel), exec, fuzzel 
bindd = CTRL ALT, B, Launch Brave, exec, brave 
bindd = CTRL ALT, F, Launch Firefox, exec, firefox
bindd = CTRL ALT, A, Launch Terminal (alacritty), exec, alacritty 

# --- Window Management Keybinds ---
bindd = $mainMod, Q, Close Active Window, killactive,
bindd = $mainMod, M, Exit Hyprland Session, exit,
bindd = $mainMod, V, Toggle Smart Float, exec, ~/.config/hypr/scripts/smart_float.sh # Toggle floating for a window
bindd = $mainMod, J, Toggle Split Direction, togglesplit,

# --- Window Navigation ---
bindd = ALT, Tab, Cycle Next Window, cyclenext,
#bindd = ALT SHIFT, Tab, Cycle Previous Window, cyclenext, prev   # Alt+Shift+Tab to cycle windows backward (Tbh no need of this)

# --- Move focus with Super + Arrow Keys ---
bindd = $mainMod, left, Focus Left, movefocus, l
bindd = $mainMod, right, Focus Right, movefocus, r
bindd = $mainMod, up, Focus Up, movefocus, u
bindd = $mainMod, down, Focus Down, movefocus, d

# --- Workspace Navigation ---
bindd = CTRL ALT, right, Workspace Next, workspace, e+1 # Move to the next workspace 
bindd = CTRL ALT, left, Workspace Previous, workspace, e-1 # Move to the previous workspace

# --- Switch workspaces with Super + [0-9] ---
bindd = $mainMod, 1, Go to Workspace 1, workspace, 1
bindd = $mainMod, 2, Go to Workspace 2, workspace, 2
bindd = $mainMod, 3, Go to Workspace 3, workspace, 3
bindd = $mainMod, 4, Go to Workspace 4, workspace, 4
bindd = $mainMod, 5, Go to Workspace 5, workspace, 5
bindd = $mainMod, 6, Go to Workspace 6, workspace, 6
bindd = $mainMod, 7, Go to Workspace 7, workspace, 7
bindd = $mainMod, 8, Go to Workspace 8, workspace, 8
bindd = $mainMod, 9, Go to Workspace 9, workspace, 9
bindd = $mainMod, 0, Go to Workspace 10, workspace, 10

# --- Move active window to a workspace with Super + SHIFT + [0-9] ---
bindd = $mainMod SHIFT, 1, Move to Workspace 1, movetoworkspace, 1
bindd = $mainMod SHIFT, 2, Move to Workspace 2, movetoworkspace, 2
bindd = $mainMod SHIFT, 3, Move to Workspace 3, movetoworkspace, 3
bindd = $mainMod SHIFT, 4, Move to Workspace 4, movetoworkspace, 4
bindd = $mainMod SHIFT, 5, Move to Workspace 5, movetoworkspace, 5
bindd = $mainMod SHIFT, 6, Move to Workspace 6, movetoworkspace, 6
bindd = $mainMod SHIFT, 7, Move to Workspace 7, movetoworkspace, 7
bindd = $mainMod SHIFT, 8, Move to Workspace 8, movetoworkspace, 8
bindd = $mainMod SHIFT, 9, Move to Workspace 9, movetoworkspace, 9
bindd = $mainMod SHIFT, 0, Move to Workspace 10, movetoworkspace, 10

# --- Move/resize windows with Super + mouse buttons ---
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# --- Utility Keybinds ---
# Keybind for Color Picker
bindd = SUPER SHIFT, C, Color Picker, exec, hyprpicker | wl-copy

# Keybind for Clipboard History with fuzzel
bindd = SUPER SHIFT, V, Clipboard History, exec, cliphist list | fuzzel --dmenu | cliphist decode | wl-copy

# --- Power menu ---
bindd = $mainMod ALT, S, Power Menu, exec, ~/.config/hypr/scripts/powermenu.sh

# --- Night Light Controls ---
# Toggle night light on/off
bindd = SUPER, N, Toggle Night Light, exec, ~/.config/hypr/scripts/toggle_nightlight.sh
# Increase temperature (make it cooler/whiter/bluish)
bindde = SUPER ALT, 2, Night Light (Cooler), exec, ~/.config/hypr/scripts/toggle_nightlight.sh increase
# Decrease temperature (make it warmer/darker/redder)
bindde = SUPER ALT, 1, Night Light (Warmer), exec, ~/.config/hypr/scripts/toggle_nightlight.sh decrease

# --- Waypaper ---
bindd = SUPER ALT, W, Launch Waypaper, exec, waypaper

# --- Keybinding Cheatsheet ---
bindd = SUPER, Escape, Show Keybinds, exec, ~/.config/hypr/scripts/show_cheatsheet.sh